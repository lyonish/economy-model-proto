var qn=Object.defineProperty;var Fn=(n,e,t)=>e in n?qn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var hn=(n,e,t)=>(Fn(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function O(){}function Wn(n,e){for(const t in e)n[t]=e[t];return n}function In(n){return n()}function $n(){return Object.create(null)}function Y(n){n.forEach(In)}function xn(n){return typeof n=="function"}function un(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Un(n){return Object.keys(n).length===0}function Zn(n,...e){if(n==null){for(const o of e)o(void 0);return O}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function sn(n,e,t){n.$$.on_destroy.push(Zn(e,t))}function l(n,e){n.appendChild(e)}function vn(n,e,t){n.insertBefore(e,t||null)}function fn(n){n.parentNode&&n.parentNode.removeChild(n)}function Qn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function f(n){return document.createElement(n)}function y(n){return document.createTextNode(n)}function v(){return y(" ")}function rn(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function N(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Xn(n){return Array.from(n.childNodes)}function x(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ln(n,e){n.value=e??""}let on;function tn(n){on=n}function Dn(){if(!on)throw new Error("Function called outside component initialization");return on}function Yn(n){Dn().$$.on_mount.push(n)}function pn(n,e){return Dn().$$.context.set(n,e),e}const U=[],En=[];let Q=[];const Pn=[],ne=Promise.resolve();let _n=!1;function ee(){_n||(_n=!0,ne.then(Gn))}function bn(n){Q.push(n)}const mn=new Set;let F=0;function Gn(){if(F!==0)return;const n=on;do{try{for(;F<U.length;){const e=U[F];F++,tn(e),te(e.$$)}}catch(e){throw U.length=0,F=0,e}for(tn(null),U.length=0,F=0;En.length;)En.pop()();for(let e=0;e<Q.length;e+=1){const t=Q[e];mn.has(t)||(mn.add(t),t())}Q.length=0}while(U.length);for(;Pn.length;)Pn.pop()();_n=!1,mn.clear(),tn(n)}function te(n){if(n.fragment!==null){n.update(),Y(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(bn)}}function oe(n){const e=[],t=[];Q.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),Q=e}const an=new Set;let K;function Hn(){K={r:0,c:[],p:K}}function Kn(){K.r||Y(K.c),K=K.p}function J(n,e){n&&n.i&&(an.delete(n),n.i(e))}function X(n,e,t,o){if(n&&n.o){if(an.has(n))return;an.add(n),K.c.push(()=>{an.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}function Rn(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ie(n,e){const t={},o={},i={$$scope:1};let a=n.length;for(;a--;){const s=n[a],c=e[a];if(c){for(const r in s)r in c||(o[r]=1);for(const r in c)i[r]||(t[r]=c[r],i[r]=1);n[a]=c}else for(const r in s)i[r]=1}for(const s in o)s in t||(t[s]=void 0);return t}function le(n){return typeof n=="object"&&n!==null?n:{}}function jn(n){n&&n.c()}function wn(n,e,t){const{fragment:o,after_update:i}=n.$$;o&&o.m(e,t),bn(()=>{const a=n.$$.on_mount.map(In).filter(xn);n.$$.on_destroy?n.$$.on_destroy.push(...a):Y(a),n.$$.on_mount=[]}),i.forEach(bn)}function Mn(n,e){const t=n.$$;t.fragment!==null&&(oe(t.after_update),Y(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function re(n,e){n.$$.dirty[0]===-1&&(U.push(n),ee(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Sn(n,e,t,o,i,a,s=null,c=[-1]){const r=on;tn(n);const u=n.$$={fragment:null,ctx:[],props:a,update:O,not_equal:i,bound:$n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:$n(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};s&&s(u.root);let S=!1;if(u.ctx=t?t(n,e.props||{},(g,P,...C)=>{const $=C.length?C[0]:P;return u.ctx&&i(u.ctx[g],u.ctx[g]=$)&&(!u.skip_bound&&u.bound[g]&&u.bound[g]($),S&&re(n,g)),P}):[],u.update(),S=!0,Y(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const g=Xn(e.target);u.fragment&&u.fragment.l(g),g.forEach(fn)}else u.fragment&&u.fragment.c();e.intro&&J(n.$$.fragment),wn(n,e.target,e.anchor),Gn()}tn(r)}class Cn{constructor(){hn(this,"$$");hn(this,"$$set")}$destroy(){Mn(this,1),this.$destroy=O}$on(e,t){if(!xn(t))return O;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const i=o.indexOf(t);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Un(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const se="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(se);const W=[];function An(n,e=O){let t;const o=new Set;function i(c){if(un(n,c)&&(n=c,t)){const r=!W.length;for(const u of o)u[1](),W.push(u,n);if(r){for(let u=0;u<W.length;u+=2)W[u][0](W[u+1]);W.length=0}}}function a(c){i(c(n))}function s(c,r=O){const u=[c,r];return o.add(u),o.size===1&&(t=e(i,a)||O),c(n),()=>{o.delete(u),o.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:s}}let en=An(!1),gn=An(0);function ae(n){let e,t,o,i,a,s,c,r,u,S,g,P,C,$=Math.floor(n[1])+"",d,A,h,_,p,w,b=Math.floor(n[2])+"",T,D,R,z,j,V,k=Math.floor(n[3])+"",G,nn,L,q,I,m,M,E,ln=Math.floor(n[4])+"",dn;return{c(){e=f("div"),t=f("table"),o=f("tr"),i=f("td"),a=f("b"),s=y(n[0]),c=v(),r=f("td"),u=v(),S=f("tr"),g=f("td"),g.textContent="Income",P=v(),C=f("td"),d=y($),A=v(),h=f("tr"),_=f("td"),_.textContent="Benefit",p=v(),w=f("td"),T=y(b),D=v(),R=f("tr"),z=f("td"),z.textContent="Spending",j=v(),V=f("td"),G=y(k),nn=v(),L=f("tr"),L.innerHTML="<td>-----------</td> <td></td>",q=v(),I=f("tr"),m=f("td"),m.textContent="Balance",M=v(),E=f("td"),dn=y(ln),N(e,"class","svelte-1kku87w")},m(B,H){vn(B,e,H),l(e,t),l(t,o),l(o,i),l(i,a),l(a,s),l(o,c),l(o,r),l(t,u),l(t,S),l(S,g),l(S,P),l(S,C),l(C,d),l(t,A),l(t,h),l(h,_),l(h,p),l(h,w),l(w,T),l(t,D),l(t,R),l(R,z),l(R,j),l(R,V),l(V,G),l(t,nn),l(t,L),l(t,q),l(t,I),l(I,m),l(I,M),l(I,E),l(E,dn)},p(B,[H]){H&1&&x(s,B[0]),H&2&&$!==($=Math.floor(B[1])+"")&&x(d,$),H&4&&b!==(b=Math.floor(B[2])+"")&&x(T,b),H&8&&k!==(k=Math.floor(B[3])+"")&&x(G,k),H&16&&ln!==(ln=Math.floor(B[4])+"")&&x(dn,ln)},i:O,o:O,d(B){B&&fn(e)}}}function ce(n,e,t){let{name:o="(unknown)"}=e,{income:i=0}=e,{income_supplemental:a=0}=e,{spending:s=0}=e,{balance:c=0}=e;return n.$$set=r=>{"name"in r&&t(0,o=r.name),"income"in r&&t(1,i=r.income),"income_supplemental"in r&&t(2,a=r.income_supplemental),"spending"in r&&t(3,s=r.spending),"balance"in r&&t(4,c=r.balance)},[o,i,a,s,c]}class ue extends Cn{constructor(e){super(),Sn(this,e,ce,ae,un,{name:0,income:1,income_supplemental:2,spending:3,balance:4})}}const fe=`Wade
Dave
Seth
Ivan
Riley
Gilbert
Jorge
Dan
Brian
Roberto
Ramon
Miles
Liam
Nathaniel
Ethan
Lewis
Milton
Claude
Joshua
Glen
Harvey
Blake
Antonio
Connor
Julian
Aidan
Harold
Conner
Peter
Hunter
Eli
Alberto
Carlos
Shane
Aaron
Marlin
Paul
Ricardo
Hector
Alexis
Adrian
Kingston
Douglas
Gerald
Joey
Johnny
Charlie
Scott
Martin
Tristin
Troy
Tommy
Rick
Victor
Jessie
Neil
Ted
Nick
Wiley
Morris
Clark
Stuart
Orlando
Keith
Marion
Marshall
Noel
Everett
Romeo
Sebastian
Stefan
Robin
Clarence
Sandy
Ernest
Samuel
Benjamin
Luka
Fred
Albert
Greyson
Terry
Cedric
Joe
Paul
George
Bruce
Christopher
Mark
Ron
Craig
Philip
Jimmy
Arthur
Jaime
Perry
Harold
Jerry
Shawn
Walter
Daisy
Deborah
Isabel
Stella
Debra
Beverly
Vera
Angela
Lucy
Lauren
Janet
Loretta
Tracey
Beatrice
Sabrina
Melody
Chrysta
Christina
Vicki
Molly
Alison
Miranda
Stephanie
Leona
Katrina
Mila
Teresa
Gabriela
Ashley
Nicole
Valentina
Rose
Juliana
Alice
Kathie
Gloria
Luna
Phoebe
Angelique
Graciela
Gemma
Katelynn
Danna
Luisa
Julie
Olive
Carolina
Harmony
Hanna
Anabelle
Francesca
Whitney
Skyla
Nathalie
Sophie
Hannah
Silvia
Sophia
Della
Myra
Blanca
Bethany
Robyn
Traci
Desiree
Laverne
Patricia
Alberta
Lynda
Cara
Brandi
Janessa
Claudia
Rosa
Sandra
Eunice
Kayla
Kathryn
Rosie
Monique
Maggie
Hope
Alexia
Lucille
Odessa
Amanda
Kimberly
Blanche
Tyra
Helena
Kayleigh
Lucia
Janine
Maribel
Camille
Alisa
Vivian
Lesley
Rachelle
Kianna`,Vn={name:"(not set)",income:0,spending:0,benefit:0,balance:0};let Z=An([Vn]);function Nn(n,e,t){const o=n.slice();return o[1]=e[t],o}function kn(n){let e,t;const o=[n[1]];let i={};for(let a=0;a<o.length;a+=1)i=Wn(i,o[a]);return e=new ue({props:i}),{c(){jn(e.$$.fragment)},m(a,s){wn(e,a,s),t=!0},p(a,s){const c=s&1?ie(o,[le(a[1])]):{};e.$set(c)},i(a){t||(J(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){Mn(e,a)}}}function de(n){let e,t,o=Rn(n[0]),i=[];for(let s=0;s<o.length;s+=1)i[s]=kn(Nn(n,o,s));const a=s=>X(i[s],1,1,()=>{i[s]=null});return{c(){e=f("div");for(let s=0;s<i.length;s+=1)i[s].c();N(e,"class","card svelte-uf7e1y")},m(s,c){vn(s,e,c);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);t=!0},p(s,[c]){if(c&1){o=Rn(s[0]);let r;for(r=0;r<o.length;r+=1){const u=Nn(s,o,r);i[r]?(i[r].p(u,c),J(i[r],1)):(i[r]=kn(u),i[r].c(),J(i[r],1),i[r].m(e,null))}for(Hn(),r=o.length;r<i.length;r+=1)a(r);Kn()}},i(s){if(!t){for(let c=0;c<o.length;c+=1)J(i[c]);t=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)X(i[c]);t=!1},d(s){s&&fn(e),Qn(i,s)}}}function he(n,e,t){let o;return sn(n,Z,i=>t(0,o=i)),console.log("citizens"),console.log(o),Yn(()=>{}),[o]}class pe extends Cn{constructor(e){super(),Sn(this,e,he,de,un,{})}}function Bn(n){let e,t;return e=new pe({}),{c(){jn(e.$$.fragment)},m(o,i){wn(e,o,i),t=!0},i(o){t||(J(e.$$.fragment,o),t=!0)},o(o){X(e.$$.fragment,o),t=!1},d(o){Mn(e,o)}}}function me(n){let e,t,o,i,a,s,c,r,u,S,g,P,C,$,d,A,h,_,p,w,b,T,D,R,z=Math.round(n[1].map(On).reduce(Jn))+"",j,V,k=Math.round(n[1].map(Tn).reduce(zn))+"",G,nn,L,q,I,m=n[3]===!0&&Bn();return{c(){e=f("main"),t=f("div"),o=y("Settings  "),i=f("br"),a=y(`
  Initial supply: `),s=f("input"),c=f("br"),r=y(`
  Number of people: `),u=f("input"),S=v(),g=f("br"),P=y(`
  Base spending: `),C=f("input"),$=v(),d=f("br"),A=v(),h=f("button"),h.textContent="START",_=v(),p=f("button"),p.textContent="FORWARD",w=v(),b=f("button"),b.textContent="RESET",T=y(`
    month: `),D=y(n[2]),R=y(`
    money supply: `),j=y(z),V=y(`
    GDP: `),G=y(k),nn=v(),m&&m.c(),N(s,"type","number"),s.value=cn,N(s,"step","10"),N(u,"type","text"),N(C,"type","text"),C.value=yn,N(t,"class","settings svelte-fwrb8e"),N(h,"class","start svelte-fwrb8e"),N(p,"class","forward svelte-fwrb8e"),N(b,"class","reset svelte-fwrb8e")},m(M,E){vn(M,e,E),l(e,t),l(t,o),l(t,i),l(t,a),l(t,s),l(t,c),l(t,r),l(t,u),Ln(u,n[0]),l(t,S),l(t,g),l(t,P),l(t,C),l(t,$),l(t,d),l(e,A),l(e,h),l(e,_),l(e,p),l(e,w),l(e,b),l(e,T),l(e,D),l(e,R),l(e,j),l(e,V),l(e,G),l(e,nn),m&&m.m(e,null),L=!0,q||(I=[rn(u,"input",n[7]),rn(h,"click",n[4]),rn(p,"click",n[5]),rn(b,"click",n[6])],q=!0)},p(M,[E]){E&1&&u.value!==M[0]&&Ln(u,M[0]),(!L||E&4)&&x(D,M[2]),(!L||E&2)&&z!==(z=Math.round(M[1].map(On).reduce(Jn))+"")&&x(j,z),(!L||E&2)&&k!==(k=Math.round(M[1].map(Tn).reduce(zn))+"")&&x(G,k),M[3]===!0?m?E&8&&J(m,1):(m=Bn(),m.c(),J(m,1),m.m(e,null)):m&&(Hn(),X(m,1,1,()=>{m=null}),Kn())},i(M){L||(J(m),L=!0)},o(M){X(m),L=!1},d(M){M&&fn(e),m&&m.d(),q=!1,Y(I)}}}let cn=100,yn=100;const On=n=>n.balance,Jn=(n,e)=>n+e,Tn=n=>n.income,zn=(n,e)=>n+e;function ge(n,e,t){let o,i,a;sn(n,Z,d=>t(1,o=d)),sn(n,gn,d=>t(2,i=d)),sn(n,en,d=>t(3,a=d));const s=fe.split(/\r?\n/);let c=8;pn("initialSupply",cn),pn("numberOfPeople",c),pn("month",i);function r(){let d=cn*c,A=[];const h=cn,_=0;for(let p=0;p<c;p++){let w=0;const b=Math.floor(Math.random()*200);p!==c-1?(w=100+Math.floor((b-100)/5),d=d-w):w=d;let T=w<yn?w:yn;const R={name:s[b],income:w,spending:T,benefit:_,balance:h};A.push(R)}return A}function u(){console.log("init",en);const d=r();Z.set(d),en.set(!0),console.info("INITIALIZED-----",o)}function S(){en&&(gn.update(d=>d+1),P())}function g(){en.set(!1),gn.set(0),Z.set([Vn]),u()}function P(){console.log("$citizens"),console.log(o);let d={income:0,spending:0,benefit:0,balance:0};o.forEach(h=>{d.income=d.income+h.income,d.spending=d.spending+h.spending,d.balance=d.balance+h.balance}),o.forEach((h,_)=>{C(h,_,d)});const A=Math.min.apply(Math,o.map(h=>h.spending));Z.update(h=>(h.forEach(_=>{const p=_.spending-A;_.spending=A+p*.5}),h)),console.log("updated"),console.log(o)}function C(d,A,h){Z.update(_=>{let p=_[A];const w=p.income/h.income,b=h.spending*w;return p.balance=p.balance-p.spending+b,p.income=b,p.spending>p.income&&(p.spending=p.income),console.log("prev"),console.log(_),_})}function $(){c=this.value,t(0,c)}return[c,o,i,a,u,S,g,$]}class _e extends Cn{constructor(e){super(),Sn(this,e,ge,me,un,{})}}new _e({target:document.getElementById("app")});
